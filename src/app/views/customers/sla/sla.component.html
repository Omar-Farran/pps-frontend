<div class="customers">
    <div class="breadcrumb">
        <h1>SLA contracts</h1>

        <ul>
			<li><strong>Customers</strong></li>
			<li><a href="#/customers/customers-management">Customers management</a></li>
			<li><a href="#/customers/customers-profile">Company commercial name</a></li>
			<li><a href="#/customers/branch">Branch name</a></li>
			<li>SLA contracts</li>
		</ul>
    </div>

	<div class="custom-table-wrap">
		<div class="table-heading">
			<div class="table-search form-group">
				<input id="table-search" placeholder="Search by SLA..."  class="form-control" type="text">
			</div>
			<div class="heading-actions">
				<button class="btn btn-primary btn-rounded" (click)="handleModal(addSlaPopup)">
					<i class="i-Plus"></i>
					<span>Add new SLA contract</span>
				</button>
			</div>
		</div>

		<div class="table-wrap">
			<table class="custom-table">
				<thead>
					<tr>
						<th>
							SLA contract							
							<span class="sort-btn"><i class="i-Arrow-Up"></i><i class="i-Arrow-Down"></i></span>
						</th>
						<th>
							Civil ID verification							
							<span class="sort-btn"><i class="i-Arrow-Up"></i><i class="i-Arrow-Down"></i></span>
						</th>
						<th>
							Hard copy contract							
							<span class="sort-btn"><i class="i-Arrow-Up"></i><i class="i-Arrow-Down"></i></span>
						</th>
						<th>
							Signed runsheet							
							<span class="sort-btn"><i class="i-Arrow-Up"></i><i class="i-Arrow-Down"></i></span>
						</th>
						<th>
							Large loads							
							<span class="sort-btn"><i class="i-Arrow-Up"></i><i class="i-Arrow-Down"></i></span>
						</th>
						<th>
							Critical material							
							<span class="sort-btn"><i class="i-Arrow-Up"></i><i class="i-Arrow-Down"></i></span>
						</th>
						<th>
							Document return							
							<span class="sort-btn"><i class="i-Arrow-Up"></i><i class="i-Arrow-Down"></i></span>
						</th>
						<th>
							Preferred contact language							
							<span class="sort-btn"><i class="i-Arrow-Up"></i><i class="i-Arrow-Down"></i></span>
						</th>
						<th></th>
					</tr>
				</thead>

				<tbody>
					<tr class="action-row no-action">
						<td>Blind Delivery attempts</td>
						<td>Yes</td>
						<td>Yes</td>
						<td>No</td>
						<td>Yes</td>
						<td>Yes</td>
						<td>No</td>
						<td>English</td>
						<td class="actions">
							<div ngbDropdown>
								<i ngbDropdownToggle class="row-menu"><span></span></i>
								<div ngbDropdownMenu>
									<button class="dropdown-item" (click)="handleModal(editSlaPopup)">Edit</button>
									<button class="dropdown-item delete">Delete</button>
								</div>
							</div>
						</td>
					</tr>

					<tr class="action-row" (click)="triggerDropRow($event)">
						<td>Address verification call attempts</td>
						<td>Yes</td>
						<td>Yes</td>
						<td>No</td>
						<td>Yes</td>
						<td>Yes</td>
						<td>No</td>
						<td>English</td>
						<td class="actions">
							<div ngbDropdown>
								<i ngbDropdownToggle class="row-menu"><span></span></i>
								<div ngbDropdownMenu>
									<button class="dropdown-item" (click)="handleModal(editSlaPopup)">Edit</button>
									<button class="dropdown-item delete">Delete</button>
								</div>
							</div>
						</td>
					</tr>
					<tr class="drop-row">
						<td colspan="9">
							<div class="drop-row-wrap">
								<ul>
									<li><span>Address verification call attempts:</span> 10</li>
								</ul>
							</div>
						</td>
					</tr>

					<tr class="action-row" (click)="triggerDropRow($event)">
						<td>Address verification call attempts</td>
						<td>Yes</td>
						<td>Yes</td>
						<td>No</td>
						<td>Yes</td>
						<td>Yes</td>
						<td>No</td>
						<td>English</td>
						<td class="actions">
							<div ngbDropdown>
								<i ngbDropdownToggle class="row-menu"><span></span></i>
								<div ngbDropdownMenu>
									<button class="dropdown-item" (click)="handleModal(editSlaPopup)">Edit</button>
									<button class="dropdown-item delete">Delete</button>
								</div>
							</div>
						</td>
					</tr>
					<tr class="drop-row">
						<td colspan="9">
							<div class="drop-row-wrap">
								<ul>
									<li><span>Address verification call attempts:</span> 10</li>
								</ul>
							</div>
						</td>
					</tr>

					<tr class="action-row" (click)="triggerDropRow($event)">
						<td>Non-appointment delivery</td>
						<td>Yes</td>
						<td>Yes</td>
						<td>No</td>
						<td>Yes</td>
						<td>Yes</td>
						<td>No</td>
						<td>English</td>
						<td class="actions">
							<div ngbDropdown>
								<i ngbDropdownToggle class="row-menu"><span></span></i>
								<div ngbDropdownMenu>
									<button class="dropdown-item" (click)="handleModal(editSlaPopup)">Edit</button>
									<button class="dropdown-item delete">Delete</button>
								</div>
							</div>
						</td>
					</tr>
					<tr class="drop-row">
						<td colspan="9">
							<div class="drop-row-wrap">
								<ul>
									<li><span>Address verification call attempts:</span> 10</li>
								</ul>
							</div>
						</td>
					</tr>

					<tr class="action-row" (click)="triggerDropRow($event)">
						<td>Address verification call attempts</td>
						<td>Yes</td>
						<td>Yes</td>
						<td>No</td>
						<td>Yes</td>
						<td>Yes</td>
						<td>No</td>
						<td>English</td>
						<td class="actions">
							<div ngbDropdown>
								<i ngbDropdownToggle class="row-menu"><span></span></i>
								<div ngbDropdownMenu>
									<button class="dropdown-item" (click)="handleModal(editSlaPopup)">Edit</button>
									<button class="dropdown-item delete">Delete</button>
								</div>
							</div>
						</td>
					</tr>
					<tr class="drop-row">
						<td colspan="9">
							<div class="drop-row-wrap">
								<ul>
									<li><span>Pre deliver call attempts:</span> 10</li>
								</ul>

								<ul>
									<li><span>Post deliver call attempts:</span> 10</li>
								</ul>

								<ul>
									<li><span>Number of calls per day:</span> 3</li>
								</ul>

								<ul>
									<li><span>Courier calls:</span> 5</li>
								</ul>
							</div>
						</td>
					</tr>

					<tr class="action-row" (click)="triggerDropRow($event)">
						<td>Address verification call attempts</td>
						<td>Yes</td>
						<td>Yes</td>
						<td>No</td>
						<td>Yes</td>
						<td>Yes</td>
						<td>No</td>
						<td>English</td>
						<td class="actions">
							<div ngbDropdown>
								<i ngbDropdownToggle class="row-menu"><span></span></i>
								<div ngbDropdownMenu>
									<button class="dropdown-item" (click)="handleModal(editSlaPopup)">Edit</button>
									<button class="dropdown-item delete">Delete</button>
								</div>
							</div>
						</td>
					</tr>
					<tr class="drop-row">
						<td colspan="9">
							<div class="drop-row-wrap">
								<ul>
									<li><span>Pre deliver call attempts:</span> 10</li>
								</ul>

								<ul>
									<li><span>Post deliver call attempts:</span> 10</li>
								</ul>

								<ul>
									<li><span>Number of calls per day:</span> 3</li>
								</ul>

								<ul>
									<li><span>Courier calls:</span> 5</li>
								</ul>
							</div>
						</td>
					</tr>

					<tr class="action-row no-action">
						<td>Blind Delivery attempts</td>
						<td>Yes</td>
						<td>Yes</td>
						<td>No</td>
						<td>Yes</td>
						<td>Yes</td>
						<td>No</td>
						<td>English</td>
						<td class="actions">
							<div ngbDropdown>
								<i ngbDropdownToggle class="row-menu"><span></span></i>
								<div ngbDropdownMenu>
									<button class="dropdown-item" (click)="handleModal(editSlaPopup)">Edit</button>
									<button class="dropdown-item delete">Delete</button>
								</div>
							</div>
						</td>
					</tr>

					<tr class="action-row" (click)="triggerDropRow($event)">
						<td>Address verification call attempts</td>
						<td>Yes</td>
						<td>Yes</td>
						<td>No</td>
						<td>Yes</td>
						<td>Yes</td>
						<td>No</td>
						<td>English</td>
						<td class="actions">
							<div ngbDropdown>
								<i ngbDropdownToggle class="row-menu"><span></span></i>
								<div ngbDropdownMenu>
									<button class="dropdown-item" (click)="handleModal(editSlaPopup)">Edit</button>
									<button class="dropdown-item delete">Delete</button>
								</div>
							</div>
						</td>
					</tr>
					<tr class="drop-row">
						<td colspan="9">
							<div class="drop-row-wrap">
								<ul>
									<li><span>Address verification call attempts:</span> 10</li>
								</ul>
							</div>
						</td>
					</tr>

					<tr class="action-row no-action">
						<td>Blind Delivery attempts</td>
						<td>Yes</td>
						<td>Yes</td>
						<td>No</td>
						<td>Yes</td>
						<td>Yes</td>
						<td>No</td>
						<td>English</td>
						<td class="actions">
							<div ngbDropdown>
								<i ngbDropdownToggle class="row-menu"><span></span></i>
								<div ngbDropdownMenu>
									<button class="dropdown-item" (click)="handleModal(editSlaPopup)">Edit</button>
									<button class="dropdown-item delete">Delete</button>
								</div>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>

		<div class="table-footer-inner">
			<div class="pages">
				<div class="page-count">30 total</div>

				<div class="entries">
					Show per page
					<div class="entries-dropdown" ngbDropdown>
						<div id="entriesDropdown" ngbDropdownToggle [ngbNavOutlet]="entries"></div>
				
						<div ngbDropdownMenu aria-labelledby="entriesDropdown" ngbNav #entries="ngbNav" class="entries-dropdown">
							<ng-container ngbNavItem>
								<a class="dropdown-item" ngbNavLink>10</a>
								<ng-template ngbNavContent>10</ng-template>
							</ng-container>
							<ng-container ngbNavItem>
								<a class="dropdown-item" ngbNavLink>50</a>
								<ng-template ngbNavContent>50</ng-template>
							</ng-container>
							<ng-container ngbNavItem>
								<a class="dropdown-item" ngbNavLink>70</a>
								<ng-template ngbNavContent>70</ng-template>
							</ng-container>
							<ng-container ngbNavItem>
								<a class="dropdown-item" ngbNavLink>100</a>
								<ng-template ngbNavContent>100</ng-template>
							</ng-container>
						</div>
					</div>
				</div>
			</div>

			<div class="table-pager">
				<div class="action disabled pager-position" aria-label="go to first page">
					<i class="datatable-icon-prev"></i>
				</div>

				<div class="action disabled pager-step"  aria-label="go to previous page">
					<i class="datatable-icon-left"></i>
				</div>

				<div class="action pager-page active">1</div>
				<div class="action pager-page">2</div>
				<div class="action pager-page">3</div>

				<div class="action pager-step" aria-label="go to next page">
					<i class="datatable-icon-right"></i>
				</div>

				<div class="action pager-position"  aria-label="go to last page">
					<i class="datatable-icon-skip"></i>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- SLA Form -->
<ng-template #addSlaPopup let-modal>
    <div class="modal-header">
        <h4 class="modal-title">Add SLA contract</h4>
        <button style="opacity: 0; pointer-events: none;" ngbAutoFocus></button>
        <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
    </div>

    <div class="modal-body">
        <form [formGroup]="slaAddForm" id="slaAddForm" (ngSubmit)="submitSlaAddForm()">
            <div class="form-group required">
                <label>SLA</label>
                <select 
                    class="form-control" 
                    formControlName="Sla"
					[class.is-invalid]="isSubmittedSlaAddForm && slaAddForm.get('Sla')?.errors"
                >
                    <option value="" disabled selected hidden>Choose contract</option>
                    <option value="option_1">Option 1</option>
                    <option value="option_2">Option 2</option>
                </select>
                <div class="invalid-feedback">
                    This field is required
                </div>
            </div>

            <div class="form-group required">
                <label>Preferred contact language</label>
                <select 
                    class="form-control" 
                    formControlName="PreferredContactLanguage"
                    [class.is-invalid]="isSubmittedSlaAddForm && slaAddForm.get('PreferredContactLanguage')?.errors"
                >
                    <option value="" disabled selected hidden>Choose language</option>
                    <option value="option_1">Option 1</option>
                    <option value="option_1">Option 2</option>
                </select>

                <div class="invalid-feedback">
                    This field is required
                </div>
            </div>

            <div class="form-field">
                <label class="checkbox checkbox-primary text-13">
                    <input 
                        type="checkbox"
                        formControlName="CivilIdVerification"
                    >
                    <span>Civil ID verification</span>
                    <span class="checkmark"></span>
                </label>
            </div>

            <div class="form-field">
                <label class="checkbox checkbox-primary text-13">
                    <input 
                        type="checkbox"
                        formControlName="HardCopyContract"
                    >
                    <span>Hard copy contract</span>
                    <span class="checkmark"></span>
                </label>
            </div>

            <div class="form-field">
                <label class="checkbox checkbox-primary text-13">
                    <input 
                        type="checkbox"
                        formControlName="SignedRunsheet"
                    >
                    <span>Signed runsheet</span>
                    <span class="checkmark"></span>
                </label>
            </div>

            <div class="form-field">
                <label class="checkbox checkbox-primary text-13">
                    <input 
                        type="checkbox"
                        formControlName="LargeLoads"
                    >
                    <span>Large loads</span>
                    <span class="checkmark"></span>
                </label>
            </div>

            <div class="form-field">
                <label class="checkbox checkbox-primary text-13">
                    <input 
                        type="checkbox"
                        formControlName="CriticalMaterial"
                    >
                    <span>Critical material</span>
                    <span class="checkmark"></span>
                </label>
            </div>

            <div class="form-field">
                <label class="checkbox checkbox-primary text-13">
                    <input 
                        type="checkbox"
                        formControlName="DocumentReturn"
                    >
                    <span>Document return</span>
                    <span class="checkmark"></span>
                </label>
            </div>
        </form>
    </div>

    <div class="modal-footer">
        <button 
            type="button" 
            class="btn btn-secondary btn-rounded" 
            (click)="resetSlaAddForm()"
            tabindex="-1"
        >
            Clear fields
        </button>

        <button 
            type="button"
            (click)="submitSlaAddForm()"
            class="btn btn-primary btn-rounded"
            tabindex="-1"
        >
            Save changes
        </button>
    </div>
</ng-template>

<ng-template #editSlaPopup let-modal>
    <div class="modal-header">
        <h4 class="modal-title">Edit SLA contract</h4>
        <button style="opacity: 0; pointer-events: none;" ngbAutoFocus></button>
        <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
    </div>
    <div class="modal-body">
        <form [formGroup]="slaEditForm" id="slaEditForm" (ngSubmit)="submitSlaEditForm()">
            <div class="form-group required">
                <label>SLA</label>
                <select 
                    class="form-control" 
                    formControlName="Sla"
					[class.is-invalid]="isSubmittedSlaEditForm && slaEditForm.get('Sla')?.errors"
                >
                    <option value="" disabled selected hidden>Choose contract</option>
                    <option value="option_1">Option 1</option>
                    <option value="option_2">Option 2</option>
                </select>
                <div class="invalid-feedback">
                    This field is required
                </div>
            </div>

            <div class="form-group required">
                <label>Preferred contact language</label>
                <select 
                    class="form-control"
                    formControlName="PreferredContactLanguage"
                    [class.is-invalid]="isSubmittedSlaEditForm && slaEditForm.get('PreferredContactLanguage')?.errors"
                >
                    <option value="" disabled selected hidden>Choose language</option>
                    <option value="option_1">Option 1</option>
                    <option value="option_1">Option 2</option>
                </select>

                <div class="invalid-feedback">
                    This field is required
                </div>
            </div>

            <div class="form-field">
                <label class="checkbox checkbox-primary text-13">
                    <input 
                        type="checkbox"
                        formControlName="CivilIdVerification"
                    >
                    <span>Civil ID verification</span>
                    <span class="checkmark"></span>
                </label>
            </div>

            <div class="form-field">
                <label class="checkbox checkbox-primary text-13">
                    <input 
                        type="checkbox"
                        formControlName="HardCopyContract"
                    >
                    <span>Hard copy contract</span>
                    <span class="checkmark"></span>
                </label>
            </div>

            <div class="form-field">
                <label class="checkbox checkbox-primary text-13">
                    <input 
                        type="checkbox"
                        formControlName="SignedRunsheet"
                    >
                    <span>Signed runsheet</span>
                    <span class="checkmark"></span>
                </label>
            </div>

            <div class="form-field">
                <label class="checkbox checkbox-primary text-13">
                    <input 
                        type="checkbox"
                        formControlName="LargeLoads"
                    >
                    <span>Large loads</span>
                    <span class="checkmark"></span>
                </label>
            </div>

            <div class="form-field">
                <label class="checkbox checkbox-primary text-13">
                    <input 
                        type="checkbox"
                        formControlName="CriticalMaterial"
                    >
                    <span>Critical material</span>
                    <span class="checkmark"></span>
                </label>
            </div>

            <div class="form-field">
                <label class="checkbox checkbox-primary text-13">
                    <input 
                        type="checkbox"
                        formControlName="DocumentReturn"
                    >
                    <span>Document return</span>
                    <span class="checkmark"></span>
                </label>
            </div>
        </form>
    </div>

    <div class="modal-footer">
        <button 
            type="button" 
            class="btn btn-secondary btn-rounded" 
            (click)="resetSlaEditForm()"
            tabindex="-1"
        >
            Clear fields
        </button>

        <button 
            type="button"
            (click)="submitSlaEditForm()"
            class="btn btn-primary btn-rounded"
            tabindex="-1"
        >
            Save changes
        </button>
    </div>
</ng-template>